function Merge(){var e=[],t=function(i,o){"undefined"==typeof i&&(i="undefined"!=typeof o&&Array.isArray(o)?[]:{});var s=!1;"boolean"==typeof arguments[arguments.length-1]&&(s=arguments[arguments.length-1]);var a,u,c,f,p,l,d=1,h=arguments.length;if("object"!=typeof i&&"function"!=typeof i)i=s?"undefined"==typeof arguments[2]?arguments[1]:arguments[2]:"undefined"==typeof arguments[0]?arguments[1]:arguments[0];else for(;h>d;d++)if("boolean"!=typeof arguments[d]&&null!=(a=arguments[d])){if("object"!=typeof a){i=a;break}if(Array.isArray(a)&&Array.isArray(i))i=r(a,i,s);else for(var u in a)if(c=i[u],f=a[u],i!==f)if(f&&(n(f)||(p=Array.isArray(f)))){var m=!1;if(p){p=!1,l=c&&Array.isArray(c)?c:[],e=l,l=r(f,l,s),i[u]=l;continue}if(l=c&&n(c)?c:null,!l){m=!0,l={};for(var y in f)l[y]=f[y]}if(s){for(var y in f)"undefined"!=typeof f[y]?Array.isArray(f[y])&&Array.isArray(l[y])?l[y]=r(f[y],l[y],s):l[y]=f[y]:Array.isArray(f[y])&&Array.isArray(l[y])&&(l[y]=r(f[y],l[y],s));i[u]=l}else{for(var y in f)"undefined"==typeof l[y]?Array.isArray(f[y])&&Array.isArray(l[y])?l[y]=r(f[y],l[y],s):l[y]=f[y]:Array.isArray(f[y])&&Array.isArray(l[y])&&(l[y]=r(f[y],l[y],s));"boolean"==typeof c||m?m&&(i[u]=l):process.nextTick(function(){i[u]=t(l,f,s)})}}else void 0!==f&&("undefined"==typeof c||c===f||s?i[u]=f:i[u]=c)}return e=[],i},r=function(t,r,n){if(n)return e=t;if(0==t.length&&r.length>0&&(e=r),0==r.length&&t.length>0)for(var i=0;i<t.length;++i)r.push(t[i]);if(0==e.length&&r.length>0)for(var i=0;i<r.length;++i)"object"!=typeof r[i]&&-1==e.indexOf(r[i])&&e.push(r[i]);if(r.length>0)for(var i=0;i<t.length;++i)r.indexOf(t[i])>-1&&n?r.splice(r.indexOf(t[i]),1,t[i]):-1==e.indexOf(t[i])&&e.push(t[i]);return e.length>0&&r.length>0?e:void 0},n=function(e){if(!e||"[object Object]"!=={}.toString.call(e)||e.nodeType||e.setInterval)return!1;var t={}.hasOwnProperty,r=t.call(e,"constructor"),n=t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var i;return void 0===i||t.call(e,i)};return t}function DateFormatHelper(){var e={};e.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},e.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};var t=function(t,r,n){var i=e,o=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,s=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g,u=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e};if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(t)||/\d/.test(t)||(r=t,t=void 0),t=t?new Date(t):new Date,isNaN(t))throw SyntaxError("invalid date");r=String(i.masks[r]||r||i.masks["default"]),"UTC:"==r.slice(0,4)&&(r=r.slice(4),n=!0);var c=n?"getUTC":"get",f=t[c+"Date"](),p=t[c+"Day"](),l=t[c+"Month"](),d=t[c+"FullYear"](),h=t[c+"Hours"](),m=t[c+"Minutes"](),y=t[c+"Seconds"](),g=t[c+"Milliseconds"](),v=n?0:t.getTimezoneOffset(),b={d:f,dd:u(f),ddd:i.i18n.dayNames[p],dddd:i.i18n.dayNames[p+7],m:l+1,mm:u(l+1),mmm:i.i18n.monthNames[l],mmmm:i.i18n.monthNames[l+12],yy:String(d).slice(2),yyyy:d,h:h%12||12,hh:u(h%12||12),H:h,HH:u(h),M:m,MM:u(m),s:y,ss:u(y),l:u(g,3),L:u(g>99?Math.round(g/10):g),t:12>h?"a":"p",tt:12>h?"am":"pm",T:12>h?"A":"P",TT:12>h?"AM":"PM",Z:n?"UTC":(String(t).match(s)||[""]).pop().replace(a,""),o:(v>0?"-":"+")+u(100*Math.floor(Math.abs(v)/60)+Math.abs(v)%60,4),S:["th","st","nd","rd"][f%10>3?0:(f%100-f%10!=10)*f%10]};return r.replace(o,function(e){return e in b?b[e]:e.slice(1,e.length-1)})},r=function(e,t){if(t instanceof Date){var r=864e5,n=e.getTime(),i=t.getTime(),o=Math.abs(n-i);return Math.round(o/r)}throw new Error("dateTo is not instance of Date() !")},n=function(e,t,n){if(t instanceof Date){for(var i=r(e,t),o=e.getMonth(),s=e.getFullYear(),a=e.getDate()+1,u=new Date(s,o,a),c=[],f=0;i>f;++f)"undefined"!=typeof n?c.push(new Date(u).format(n)):c.push(new Date(u)),u.setDate(u.getDate()+1);return c||[]}throw new Error("dateTo is not instance of Date() !")},i=function(e){for(var t=e.getMonth(),r=e.getFullYear(),n=new Date(r,t,1),i=[];n.getMonth()===t;)i.push(new Date(n)),n.setDate(n.getDate()+1);return i},o=function(e,t){var r=new Date(e.getTime());return r.setHours(r.getHours()+t),r};return{format:t,countDaysTo:r,getDaysTo:n,getDaysInMonth:i,addHours:o}}function Collection(content,option){var instance=this,uuid=uuid||require("uuid"),content=JSON.parse(JSON.stringify(content))||[],options="object"==typeof options?merge(options,collectionOptions):collectionOptions,keywords=["not null"];if(content.length>0&&"undefined"==typeof content[0]._uid){this.uuids={};for(var i=0,len=content.length;len>i;++i)content[i]._uuid=uuid.v4(),this.uuids[content[i]._uuid]=content[i]}else this.uuids=[];this.find=function(){var withOrClause=!1;"boolean"==typeof arguments[arguments.length-1]&&(withOrClause=arguments[arguments.length-1],delete arguments[arguments.length-1],arguments.length-=1);var filters=JSON.parse(JSON.stringify(arguments));if("undefined"!=typeof filters&&"object"!=typeof filters)throw new Error("filter must be an object");if("undefined"!=typeof filters){var filter=null,condition=null,i=0,tmpContent=Array.isArray(this)?this:JSON.parse(JSON.stringify(content)),resultObj={},result=[],localeLowerCase="",re=null,field=null,value=null;for(var o in tmpContent){tmpContent[o].matched={};for(var l=0,lLen=filters.count();lLen>l;++l){filter=filters[l],condition=filter.count();for(var f in filter)localeLowerCase="boolean"!=typeof filter[f]?filter[f].toLocaleLowerCase():filter[f],/\./.test(f)?(field=f.split(/\./g),field=field[field.length-1],re=new RegExp('("'+field+'":\\w+)'),/undefined|function/.test(typeof tmpContent[o])||(value=JSON.stringify(tmpContent[o]).match(re),value.length>0?(value=value[1].split(/:/)[1],/(<|>|=)/.test(filter[f])?eval(value+filter[f])&&(tmpContent[o].matched[f]=!0,resultObj[tmpContent[o]._uuid]=tmpContent[o]):value==filter[f]&&(tmpContent[o].matched[f]=!0,resultObj[tmpContent[o]._uuid]=tmpContent[o])):value=null)):filter[f]&&keywords.indexOf(localeLowerCase)>-1&&"not null"==localeLowerCase&&"undefined"!=typeof tmpContent[o][f]&&"object"!=typeof tmpContent[o][f]&&"null"!=tmpContent[o][f]&&"undefined"!=tmpContent[o][f]?result.indexOf(tmpContent[o][f])<0&&(tmpContent[o].matched[f]=!0,"object"==typeof tmpContent[o][f]?resultObj[tmpContent[o][f]._uuid]=tmpContent[o][f]:(resultObj[o]||(resultObj[o]={}),resultObj[tmpContent[o]._uuid]=tmpContent[o])):"undefined"!=typeof tmpContent[o][f]&&"object"!=typeof tmpContent[o][f]&&/(<|>|=)/.test(filter[f])&&!/undefined|function/.test(typeof tmpContent[o][f])?eval(tmpContent[o][f]+filter[f])&&(tmpContent[o].matched[f]=!0,resultObj[tmpContent[o]._uuid]=tmpContent[o]):"undefined"!=typeof tmpContent[o][f]&&"object"!=typeof tmpContent[o][f]&&tmpContent[o][f]===filter[f]&&(tmpContent[o].matched[f]=!0,resultObj[tmpContent[o]._uuid]=tmpContent[o])}}}else result=content;if(withOrClause)for(var obj in resultObj)delete resultObj[obj].matched,result[i]=resultObj[obj],++i;else{var matched=0;for(var obj in resultObj)"undefined"!=typeof resultObj[obj].matched&&resultObj[obj].matched.count()==condition&&(delete resultObj[obj].matched,result[i]=resultObj[obj],++i)}return result.notIn=instance.notIn,result.findOne=instance.findOne,result.limit=instance.limit,result.orderBy=instance.orderBy,result},this.or=function(){return arguments[arguments.length]=!0,arguments.length+=1,instance.find.apply(this,arguments)},this.limit=function(e){if("undefined"==typeof e||"number"!=typeof e)throw new Error("[Collection::result->limit(resultLimit)] : `resultLimit` parametter must by a `number`");var t=Array.isArray(this)?this:JSON.parse(JSON.stringify(content));return t=t.splice(0,e),t.notIn=instance.notIn,t.findOne=instance.findOne,t.orderBy=instance.orderBy,t},this.findOne=function(e){if("object"!=typeof e)throw new Error("filter must be an object");var t=e.count(),r=0,n=Array.isArray(this)?this:JSON.parse(JSON.stringify(content)),i=[],o="";if(0==t)return null;for(var s in n)for(var a in e)o="boolean"!=typeof e[a]?e[a].toLocaleLowerCase():e[a],e[a]&&keywords.indexOf(o)>-1&&"not null"==o&&"undefined"!=typeof n[s][a]&&"object"!=typeof n[s][a]&&n[s][a]===e[a]&&"null"!=n[s][a]&&"undefined"!=n[s][a]?i.indexOf(n[s][a])<0&&(++r,r===t&&(i=n[s])):"undefined"!=typeof n[s][a]&&"object"!=typeof n[s][a]&&n[s][a]===e[a]&&(++r,r===t&&(i=n[s]));return i},this.notIn=function(e){if("undefined"==typeof e)return Array.isArray(this)?this:content;for(var t=[],r=0,n=JSON.parse(JSON.stringify(instance.uuids)),i=(Array.isArray(this)?this:content,0),o=e.length;o>i;++i)"undefined"!=typeof n[e[i]._uuid]&&delete n[e[i]._uuid];for(var s in n)t[r]=n[s],++r;return t.limit=instance.limit,t.find=instance.find,t.findOne=instance.findOne,t.orderBy=instance.orderBy,t},this.update=function(e,t){if("object"!=typeof e)throw new Error("filter must be an object");var r=(e.count(),""),n=Array.isArray(this)?this:JSON.parse(JSON.stringify(content));for(var i in content)for(var o in e)r="boolean"!=typeof e[o]?e[o].toLocaleLowerCase():e[o],e[o]&&keywords.indexOf(r)>-1&&"not null"==r&&"undefined"!=typeof content[i][o]&&"object"!=typeof content[i][o]&&"null"!=content[i][o]&&"undefined"!=content[i][o]?n[i][o]=t:"undefined"!=typeof content[i][o]&&"object"!=typeof content[i][o]&&content[i][o]===e[o]&&(n[i]=t);return n.find=instance.find,n.findOne=instance.findOne,n.orderBy=instance.orderBy,n.notIn=instance.notIn,n},this["delete"]=function(e){if("object"!=typeof e)throw new Error("filter must be an object");var t=(e.count(),""),r=Array.isArray(this)?JSON.parse(JSON.stringify(this)):JSON.parse(JSON.stringify(content));for(var n in content)for(var i in e)t="boolean"!=typeof e[i]?e[i].toLocaleLowerCase():e[i],e[i]&&keywords.indexOf(t)>-1&&"not null"==t&&"undefined"!=typeof content[n][i]&&"object"!=typeof content[n][i]&&"null"!=content[n][i]&&"undefined"!=content[n][i]?r.splice(n,1):"undefined"!=typeof content[n][i]&&"object"!=typeof content[n][i]&&content[n][i]===e[i]&&r.splice(n,1);return r};var sortKeywords=["asc","desc"];this.orderBy=function(e){if("undefined"==typeof e)throw new Error("[ Collection->sort(filter) ] where `filter` must not be empty or null");var t=Array.isArray(this)?this:JSON.parse(JSON.stringify(content));return sortResult(e,t)};var sortResult=function(e,t){if("object"!=typeof e)throw new Error("`filter` parametter must be an object or an array");var r=e.count(),n={},i=null,o=null,s=[];if(0==r)return null;if(n.asc=function(e,t){return t.sort(function(t,r){if("string"==typeof t&&""!=t)return t.localeCompare(r);if("object"!=typeof t)return t>r?1:r>t?-1:0;try{return t[e].localeCompare(r[e])}catch(n){return-1}})},n.desc=function(e,t){return n.asc(e,t).reverse()},Array.isArray(e))for(var a=0,u=e.length;u>a;++a)o=Object.keys(e[a])[0],i=e[a][o],s=n[i](o,t);else if(e.count()>1)for(var a in e)o=Object.keys(e)[0],i=e[o],s=n[i](o,t);else o=Object.keys(e)[0],i=e[o],s=n[i](o,t);return s.findOne=instance.findOne,s.limit=instance.limit,s.notIn=instance.notIn,s}}var requirejs,require,define;!function(global,setTimeout){function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var r;for(r=0;r<e.length&&(!e[r]||!t(e[r],r,e));r+=1);}}function eachReverse(e,t){if(e){var r;for(r=e.length-1;r>-1&&(!e[r]||!t(e[r],r,e));r-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var r;for(r in e)if(hasProp(e,r)&&t(e[r],r))break}function mixin(e,t,r,n){return t&&eachProp(t,function(t,i){(r||!hasProp(e,i))&&(!n||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[i]=t:(e[i]||(e[i]={}),mixin(e[i],t,r,n)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,r,n){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=n,r&&(i.originalError=r),i}function newContext(e){function t(e){var t,r;for(t=0;t<e.length;t++)if(r=e[t],"."===r)e.splice(t,1),t-=1;else if(".."===r){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function r(e,r,n){var i,o,s,a,u,c,f,p,l,d,h,m,y=r&&r.split("/"),g=S.map,v=g&&g["*"];if(e&&(e=e.split("/"),f=e.length-1,S.nodeIdCompat&&jsSuffixRegExp.test(e[f])&&(e[f]=e[f].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&y&&(m=y.slice(0,y.length-1),e=m.concat(e)),t(e),e=e.join("/")),n&&g&&(y||v)){s=e.split("/");e:for(a=s.length;a>0;a-=1){if(c=s.slice(0,a).join("/"),y)for(u=y.length;u>0;u-=1)if(o=getOwn(g,y.slice(0,u).join("/")),o&&(o=getOwn(o,c))){p=o,l=a;break e}!d&&v&&getOwn(v,c)&&(d=getOwn(v,c),h=a)}!p&&d&&(p=d,l=h),p&&(s.splice(0,l,p),e=s.join("/"))}return i=getOwn(S.pkgs,e),i?i:e}function n(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===w.contextName?(t.parentNode.removeChild(t),!0):void 0})}function i(e){var t=getOwn(S.paths,e);return t&&isArray(t)&&t.length>1?(t.shift(),w.require.undef(e),w.makeRequire(null,{skipMap:!0})([e]),!0):void 0}function o(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function s(e,t,n,i){var s,a,u,c,f=null,p=t?t.name:null,l=e,d=!0,h="";return e||(d=!1,e="_@r"+(M+=1)),c=o(e),f=c[0],e=c[1],f&&(f=r(f,p,i),a=getOwn(j,f)),e&&(f?h=a&&a.normalize?a.normalize(e,function(e){return r(e,p,i)}):-1===e.indexOf("!")?r(e,p,i):e:(h=r(e,p,i),c=o(h),f=c[0],h=c[1],n=!0,s=w.nameToUrl(h))),u=!f||a||n?"":"_unnormalized"+(B+=1),{prefix:f,name:h,parentMap:t,unnormalized:!!u,url:s,originalName:l,isDefine:d,id:(f?f+"!"+h:h)+u}}function a(e){var t=e.id,r=getOwn(E,t);return r||(r=E[t]=new w.Module(e)),r}function u(e,t,r){var n=e.id,i=getOwn(E,n);!hasProp(j,n)||i&&!i.defineEmitComplete?(i=a(e),i.error&&"error"===t?r(i.error):i.on(t,r)):"defined"===t&&r(j[n])}function c(e,t){var r=e.requireModules,n=!1;t?t(e):(each(r,function(t){var r=getOwn(E,t);r&&(r.error=e,r.events.error&&(n=!0,r.emit("error",e)))}),n||req.onError(e))}function f(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(w.defQueueMap[t]=!0),C.push(e)}),globalDefQueue=[])}function p(e){delete E[e],delete O[e]}function l(e,t,r){var n=e.map.id;e.error?e.emit("error",e.error):(t[n]=!0,each(e.depMaps,function(n,i){var o=n.id,s=getOwn(E,o);!s||e.depMatched[i]||r[o]||(getOwn(t,o)?(e.defineDep(i,j[o]),e.check()):l(s,t,r))}),r[n]=!0)}function d(){var e,t,r=1e3*S.waitSeconds,o=r&&w.startTime+r<(new Date).getTime(),s=[],a=[],u=!1,f=!0;if(!v){if(v=!0,eachProp(O,function(e){var r=e.map,c=r.id;if(e.enabled&&(r.isDefine||a.push(e),!e.error))if(!e.inited&&o)i(c)?(t=!0,u=!0):(s.push(c),n(c));else if(!e.inited&&e.fetched&&r.isDefine&&(u=!0,!r.prefix))return f=!1}),o&&s.length)return e=makeError("timeout","Load timeout for modules: "+s,null,s),e.contextName=w.contextName,c(e);f&&each(a,function(e){l(e,{},{})}),o&&!t||!u||!isBrowser&&!isWebWorker||k||(k=setTimeout(function(){k=0,d()},50)),v=!1}}function h(e){hasProp(j,e[0])||a(s(e[0],null,!0)).init(e[1],e[2])}function m(e,t,r,n){e.detachEvent&&!isOpera?n&&e.detachEvent(n,t):e.removeEventListener(r,t,!1)}function y(e){var t=e.currentTarget||e.srcElement;return m(t,w.onScriptLoad,"load","onreadystatechange"),m(t,w.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function g(){var e;for(f();C.length;){if(e=C.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));h(e)}w.defQueueMap={}}var v,b,w,x,k,S={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},E={},O={},A={},C=[],j={},q={},T={},M=1,B=1;return x={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?j[e.map.id]=e.exports:e.exports=j[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(S.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},b=function(e){this.events=getOwn(A,e.id)||{},this.map=e,this.shim=getOwn(S.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,r,n){n=n||{},this.inited||(this.factory=t,r?this.on("error",r):this.events.error&&(r=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=r,this.inited=!0,this.ignore=n.ignore,n.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;return this.shim?void w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;q[e]||(q[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,r=this.map.id,n=this.depExports,i=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=w.execCb(r,o,n,i)}catch(s){e=s}else i=w.execCb(r,o,n,i);if(this.map.isDefine&&void 0===i&&(t=this.module,t?i=t.exports:this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else i=o;if(this.exports=i,this.map.isDefine&&!this.ignore&&(j[r]=i,req.onResourceLoad)){var a=[];each(this.depMaps,function(e){a.push(e.normalizedMap||e)}),req.onResourceLoad(w,this.map,a)}p(r),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(w.defQueueMap,r)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,n=s(e.prefix);this.depMaps.push(n),u(n,"defined",bind(this,function(n){var i,o,f,l=getOwn(T,this.map.id),d=this.map.name,h=this.map.parentMap?this.map.parentMap.name:null,m=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(n.normalize&&(d=n.normalize(d,function(e){return r(e,h,!0)})||""),o=s(e.prefix+"!"+d,this.map.parentMap),u(o,"defined",bind(this,function(e){this.map.normalizedMap=o,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),f=getOwn(E,o.id),void(f&&(this.depMaps.push(o),this.events.error&&f.on("error",bind(this,function(e){this.emit("error",e)})),f.enable()))):l?(this.map.url=w.nameToUrl(l),void this.load()):(i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(E,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&p(e.map.id)}),c(e)}),i.fromText=bind(this,function(r,n){var o=e.name,u=s(o),f=useInteractive;n&&(r=n),f&&(useInteractive=!1),a(u),hasProp(S.config,t)&&(S.config[o]=S.config[t]);try{req.exec(r)}catch(p){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+p,p,[t]))}f&&(useInteractive=!0),this.depMaps.push(u),w.completeLoad(o),m([o],i)}),void n.load(e.name,m,i,S))})),w.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){O[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var r,n,i;if("string"==typeof e){if(e=s(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(x,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,u(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?u(e,"error",bind(this,this.errback)):this.events.error&&u(e,"error",bind(this,function(e){this.emit("error",e)}))}r=e.id,n=E[r],hasProp(x,r)||!n||n.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(E,e.id);t&&!t.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var r=this.events[e];r||(r=this.events[e]=[]),r.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},w={config:S,contextName:e,registry:E,defined:j,urlFetched:q,defQueue:C,defQueueMap:{},Module:b,makeModuleMap:s,nextTick:req.nextTick,onError:c,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,r){return(-1===r.indexOf("?")?"?":"&")+t}}var r=S.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(S[t]||(S[t]={}),mixin(S[t],e,!0,!0)):S[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(T[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),r[t]=e}),S.shim=r),e.packages&&each(e.packages,function(e){var t,r;e="string"==typeof e?{name:e}:e,r=e.name,t=e.location,t&&(S.paths[r]=e.location),S.pkgs[r]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(E,function(e,t){e.inited||e.map.unnormalized||(e.map=s(t,null,!0))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function o(r,n,u){var f,p,l;return i.enableBuildCallback&&n&&isFunction(n)&&(n.__requireJsBuild=!0),"string"==typeof r?isFunction(n)?c(makeError("requireargs","Invalid require call"),u):t&&hasProp(x,r)?x[r](E[t.id]):req.get?req.get(w,r,t,o):(p=s(r,t,!1,!0),f=p.id,hasProp(j,f)?j[f]:c(makeError("notloaded",'Module name "'+f+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(g(),w.nextTick(function(){g(),l=a(s(null,t)),l.skipMap=i.skipMap,l.init(r,n,u,{enabled:!0}),d()}),o)}return i=i||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var n,i=e.lastIndexOf("."),o=e.split("/")[0],s="."===o||".."===o;return-1!==i&&(!s||i>1)&&(n=e.substring(i,e.length),e=e.substring(0,i)),w.nameToUrl(r(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(j,s(e,t,!1,!0).id)},specified:function(e){return e=s(e,t,!1,!0).id,hasProp(j,e)||hasProp(E,e)}}),t||(o.undef=function(e){f();var r=s(e,t,!0),i=getOwn(E,e);i.undefed=!0,n(e),delete j[e],delete q[r.url],delete A[e],eachReverse(C,function(t,r){t[0]===e&&C.splice(r,1)}),delete w.defQueueMap[e],i&&(i.events.defined&&(A[e]=i.events),p(e))}),o},enable:function(e){var t=getOwn(E,e.id);t&&a(e).enable()},completeLoad:function(e){var t,r,n,o=getOwn(S.shim,e)||{},s=o.exports;for(f();C.length;){if(r=C.shift(),null===r[0]){if(r[0]=e,t)break;t=!0}else r[0]===e&&(t=!0);h(r)}if(w.defQueueMap={},n=getOwn(E,e),!t&&!hasProp(j,e)&&n&&!n.inited){if(!(!S.enforceDefine||s&&getGlobal(s)))return i(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));h([e,o.deps||[],o.exportsFn])}d()},nameToUrl:function(e,t,r){var n,i,o,s,a,u,c,f=getOwn(S.pkgs,e);if(f&&(e=f),c=getOwn(T,e))return w.nameToUrl(c,t,r);if(req.jsExtRegExp.test(e))a=e+(t||"");else{for(n=S.paths,i=e.split("/"),o=i.length;o>0;o-=1)if(s=i.slice(0,o).join("/"),u=getOwn(n,s)){isArray(u)&&(u=u[0]),i.splice(0,o,u);break}a=i.join("/"),a+=t||(/^data\:|^blob\:|\?/.test(a)||r?"":".js"),a=("/"===a.charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":S.baseUrl)+a}return S.urlArgs&&!/^blob\:/.test(a)?a+S.urlArgs(e,a):a},load:function(e,t){req.load(w,e,t)},execCb:function(e,t,r,n){return t.apply(n,r)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=y(e);w.completeLoad(t.id)}},onScriptError:function(e){var t=y(e);if(!i(t.id)){var r=[];return eachProp(E,function(e,n){0!==n.indexOf("_@r")&&each(e.depMaps,function(e){return e.id===t.id?(r.push(n),!0):void 0})}),c(makeError("scripterror",'Script error for "'+t.id+(r.length?'", needed by: '+r.join(", "):'"'),e,[t.id]))}}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.2",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,r,n){var i,o,s=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=r,r=n):e=[]),o&&o.context&&(s=o.context),i=getOwn(contexts,s),i||(i=contexts[s]=req.s.newContext(s)),o&&i.configure(o),i.require(e,t,r)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,r){var n=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return n.type=e.scriptType||"text/javascript",n.charset="utf-8",n.async=!0,n},req.load=function(e,t,r){var n,i=e&&e.config||{};if(isBrowser)return n=req.createNode(i,t,r),n.setAttribute("data-requirecontext",e.contextName),n.setAttribute("data-requiremodule",t),!n.attachEvent||n.attachEvent.toString&&n.attachEvent.toString().indexOf("[native code")<0||isOpera?(n.addEventListener("load",e.onScriptLoad,!1),n.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,n.attachEvent("onreadystatechange",e.onScriptLoad)),n.src=r,i.onNodeCreated&&i.onNodeCreated(n,i,t,r),currentlyAddingScript=n,baseElement?head.insertBefore(n,baseElement):head.appendChild(n),currentlyAddingScript=null,n;if(isWebWorker)try{setTimeout(function(){},0),importScripts(r),e.completeLoad(t)}catch(o){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+r,o,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,r){var n,i;"string"!=typeof e&&(r=t,t=e,e=null),isArray(t)||(r=t,t=null),!t&&isFunction(r)&&(t=[],r.length&&(r.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,r){t.push(r)}),t=(1===r.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(n=currentlyAddingScript||getInteractiveScript(),n&&(e||(e=n.getAttribute("data-requiremodule")),i=contexts[n.getAttribute("data-requirecontext")])),i?(i.defQueue.push([e,t,r]),i.defQueueMap[e]=!0):globalDefQueue.push([e,t,r])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),define("requireLib",function(){}),"undefined"!=typeof module&&module.exports?module.exports=Merge():"function"==typeof define&&define.amd&&define("utils/merge",[],function(){return Merge()}),"undefined"!=typeof module&&module.exports?module.exports=DateFormatHelper:"function"==typeof define&&define.amd&&define("utils/helpers/dateFormat",[],function(){return DateFormatHelper}),define("core/main",["require","utils/merge","utils/helpers/dateFormat"],function(e){function t(e){"undefined"!=typeof e&&null!=e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.preventDefault&&e.preventDefault(),e.returnValue=!1)}function r(e,t,r,n){if("undefined"!=typeof t&&null!=t){var i=null,o=!1,s=!1;if(u){var a=null;a=u.fn.jquery.substr(0,3)<="1.7"?u(t).data("events"):u._data(u(t)[0],"events"),s="undefined"!=typeof a&&"undefined"!=typeof a[r]?!0:!1,s&&(i=u.Event(r),u(t).trigger(i,n),o=i.isDefaultPrevented())}window.CustomEvent||document.createEvent?(window.CustomEvent?i=new CustomEvent(r,{detail:n,bubbles:!0,cancelable:!0,target:t}):(i=document.createEvent("HTMLEvents"),i.detail=n,i.target=t,i.initEvent(r,!0,!0),i.eventName=r),o||t.dispatchEvent(i)):document.createEventObject&&(i=document.createEventObject(),i.srcElement.id=t.id,i.detail=n,i.target=t,t.fireEvent("on"+r,i))}else e.customEvent.fire(r,n)}function n(e,t,r,n){"undefined"!=typeof e.event&&e.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(r)&&-1==e.event[r].indexOf(t)&&(e.event[r][e.event[r].length]=t),"undefined"!=typeof t&&null!=t?t.addEventListener?t.addEventListener(r,n,!1):t.attachEvent&&t.attachEvent("on"+r,n):e.customEvent.addListener(r,n)}function i(e){if("undefined"!=typeof this.initialized)return!1;var t={on:f,options:e,setOptions:p};return s=o(s,t),this.initialized=!0,r(self,c,"ready"),s}var o=e("utils/merge"),s=(e("utils/helpers/dateFormat")(),{isFrameworkLoaded:!1,hasPopinHandler:!1,options:{}}),a=["ready"],u=window.jQuery?window.jQuery:null;window.process||!function(e,t,r,n,i,o,s){for(o=e[r]||(e[r]={});!s&&i<n.length;)s=e[n[i++]+"equestAnimationFrame"];o[t]=o[t]||s&&s.bind(e)||e.setImmediate||e.setTimeout}(window,"nextTick","process","r webkitR mozR msR oR".split(" "),0),window.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var r=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),r.test(t)&&(t=t.replace(r,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this}),Object.defineProperty(Date.prototype,"format",{writable:!1,enumerable:!1,configurable:!0,value:function(e,t){return helpers.dateFormat.format(this,e,t)}}),Object.defineProperty(Object.prototype,"count",{writable:!0,enumerable:!1,configurable:!0,value:function(){try{var e=this;this instanceof String&&(e=JSON.parse(this));
var t=0;for(var r in this)this.hasOwnProperty(r)&&++t;return t}catch(n){return t}}});var c=document,f=function(e,r){a.indexOf(e)<0?r(new Error("Event `"+e+"` not handled by gina EventHandler")):n(instance,c,e,function(e){if(t(e),e.detail)var n=e.detail;r(!1,n)})},p=function(e){s.options=o(s.options,e,!0)};return i}),function(e){"use strict";function t(){var t=e.crypto||e.msCrypto;if(!a&&t&&t.getRandomValues)try{var r=new Uint8Array(16);f=a=function(){return t.getRandomValues(r),r},a()}catch(n){}if(!a){var i=new Array(16);u=a=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function r(){if("function"==typeof require)try{var e=require("crypto").randomBytes;c=a=e&&function(){return e(16)},a()}catch(t){}}function n(e,t,r){var n=t&&r||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>i&&(t[n+i++]=h[e])});16>i;)t[n+i++]=0;return t}function i(e,t){var r=t||0,n=d;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}function o(e,t,r){var n=t&&r||0,o=t||[];e=e||{};var s=null!=e.clockseq?e.clockseq:v,a=null!=e.msecs?e.msecs:(new Date).getTime(),u=null!=e.nsecs?e.nsecs:w+1,c=a-b+(u-w)/1e4;if(0>c&&null==e.clockseq&&(s=s+1&16383),(0>c||a>b)&&null==e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");b=a,w=u,v=s,a+=122192928e5;var f=(1e4*(268435455&a)+u)%4294967296;o[n++]=f>>>24&255,o[n++]=f>>>16&255,o[n++]=f>>>8&255,o[n++]=255&f;var p=a/4294967296*1e4&268435455;o[n++]=p>>>8&255,o[n++]=255&p,o[n++]=p>>>24&15|16,o[n++]=p>>>16&255,o[n++]=s>>>8|128,o[n++]=255&s;for(var l=e.node||g,d=0;6>d;d++)o[n+d]=l[d];return t?t:i(o)}function s(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new l(16):null,e=null),e=e||{};var o=e.random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;16>s;s++)t[n+s]=o[s];return t||i(o)}var a,u,c,f,p;e?t():r();for(var l="function"==typeof Buffer?Buffer:Array,d=[],h={},m=0;256>m;m++)d[m]=(m+256).toString(16).substr(1),h[d[m]]=m;var y=a(),g=[1|y[0],y[1],y[2],y[3],y[4],y[5]],v=16383&(y[6]<<8|y[7]),b=0,w=0,x=s;x.v1=o,x.v4=s,x.parse=n,x.unparse=i,x.BufferClass=l,x._rng=a,x._mathRNG=u,x._nodeRNG=c,x._whatwgRNG=f,"undefined"!=typeof module&&module.exports?module.exports=x:"function"==typeof define&&define.amd?define("uuid",[],function(){return x}):(p=e.uuid,x.noConflict=function(){return e.uuid=p,x},e.uuid=x)}("undefined"!=typeof window?window:null);var collectionOptions={useLocalStorage:!1,locale:"en"};if("undefined"!=typeof module&&module.exports){var uuid=require("uuid");module.exports=Collection}else"function"==typeof define&&define.amd&&define("utils/collection",[],function(){return Collection});define("gina",["require","core/main"],function(e){function t(e){var t=document,r=null,n="ginaready",i=e;return window.CustomEvent||document.createEvent?(window.CustomEvent?r=new CustomEvent(n,{detail:i,bubbles:!0,cancelable:!0,target:t}):(r=document.createEvent("HTMLEvents"),r.detail=i,r.target=t,r.initEvent(n,!0,!0),r.eventName=n),t.dispatchEvent(r)):document.createEventObject&&(r=document.createEventObject(),r.srcElement.id=t.id,r.detail=i,r.target=t,t.fireEvent("on"+n,r)),i}var r=e("./core/main");return t(r())}),requirejs(["gina","uuid","utils/collection"]);for(var tags=document.getElementsByTagName("script"),t=0,len=tags.length;len>t;++t)if(/gina.min.js|gina.js/.test(tags[t].getAttribute("src"))){tags[t].onload=function(e){document.addEventListener?document.addEventListener("ginaready",function(e){console.log("ready from gina"),window.gina=e.detail}):document.attachEvent&&document.attachEvent("ginaready",function(e){window.gina=e.detail})}();break}!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("engine.io",[],t):"object"==typeof exports?exports.eio=t():e.eio=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";e.exports=r(1)},function(e,t,r){"use strict";e.exports=r(2),e.exports.parser=r(9)},function(e,t,r){(function(t){"use strict";function n(e,r){if(!(this instanceof n))return new n(e,r);r=r||{},e&&"object"===("undefined"==typeof e?"undefined":o(e))&&(r=e,e=null),e?(e=p(e),r.hostname=e.host,r.secure="https"===e.protocol||"wss"===e.protocol,r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=p(r.host).host),this.secure=null!=r.secure?r.secure:t.location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.agent=r.agent||!1,this.hostname=r.hostname||(t.location?location.hostname:"localhost"),this.port=r.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=r.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==r.upgrade,this.path=(r.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!r.forceJSONP,this.jsonp=!1!==r.jsonp,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.timestampParam=r.timestampParam||"t",this.timestampRequests=r.timestampRequests,this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=!1!==r.perMessageDeflate?r.perMessageDeflate||{}:!1,!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||null,this.key=r.key||null,this.passphrase=r.passphrase||null,this.cert=r.cert||null,this.ca=r.ca||null,this.ciphers=r.ciphers||null,this.rejectUnauthorized=void 0===r.rejectUnauthorized?null:r.rejectUnauthorized;var i="object"===("undefined"==typeof t?"undefined":o(t))&&t;i.global===i&&r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),this.open()}function i(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=r(3),a=r(19),u=r(23)("engine.io-client:socket"),c=r(29),f=r(9),p=r(30),l=r(31),d=r(20);e.exports=n,n.priorWebsocketSuccess=!1,a(n.prototype),n.protocol=f.protocol,n.Socket=n,n.Transport=r(8),n.transports=r(3),n.parser=r(9),n.prototype.createTransport=function(e){u('creating transport "%s"',e);var t=i(this.query);t.EIO=f.protocol,t.transport=e,this.id&&(t.sid=this.id);var r=new s[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return r},n.prototype.open=function(){var e;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},n.prototype.setTransport=function(e){u("setting transport %s",e.name);var t=this;this.transport&&(u("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},n.prototype.probe=function(e){function t(){if(l.onlyBinaryUpgrades){var t=!this.supportsBinary&&l.transport.supportsBinary;p=p||t}p||(u('probe transport "%s" opened',e),f.send([{type:"ping",data:"probe"}]),f.once("packet",function(t){if(!p)if("pong"===t.type&&"probe"===t.data){if(u('probe transport "%s" pong',e),l.upgrading=!0,l.emit("upgrading",f),!f)return;n.priorWebsocketSuccess="websocket"===f.name,u('pausing current transport "%s"',l.transport.name),l.transport.pause(function(){p||"closed"!==l.readyState&&(u("changing transport and sending upgrade packet"),c(),l.setTransport(f),f.send([{type:"upgrade"}]),l.emit("upgrade",f),f=null,l.upgrading=!1,l.flush())})}else{u('probe transport "%s" failed',e);var r=new Error("probe error");r.transport=f.name,l.emit("upgradeError",r)}}))}function r(){p||(p=!0,c(),f.close(),f=null)}function i(t){var n=new Error("probe error: "+t);n.transport=f.name,r(),u('probe transport "%s" failed because of error: %s',e,t),l.emit("upgradeError",n)}function o(){i("transport closed")}function s(){i("socket closed")}function a(e){f&&e.name!==f.name&&(u('"%s" works - aborting "%s"',e.name,f.name),r())}function c(){f.removeListener("open",t),f.removeListener("error",i),f.removeListener("close",o),l.removeListener("close",s),l.removeListener("upgrading",a)}u('probing transport "%s"',e);var f=this.createTransport(e,{probe:1}),p=!1,l=this;n.priorWebsocketSuccess=!1,f.once("open",t),f.once("error",i),f.once("close",o),this.once("close",s),this.once("upgrading",a),f.open()},n.prototype.onOpen=function(){if(u("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){u("starting upgrade probes");for(var e=0,t=this.upgrades.length;t>e;e++)this.probe(this.upgrades[e])}},n.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState)switch(u('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(l(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else u('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},n.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){u("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},n.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(u("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this},n.prototype.sendPacket=function(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){r=r||{},r.compress=!1!==r.compress;var i={type:e,data:t,options:r};this.emit("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}},n.prototype.close=function(){function e(){n.onClose("forced close"),u("socket closing - telling transport to close"),n.transport.close()}function t(){n.removeListener("upgrade",t),n.removeListener("upgradeError",t),e()}function r(){n.once("upgrade",t),n.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():e()}):this.upgrading?r():e()}return this},n.prototype.onError=function(e){u("socket error %j",e),n.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},n.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){u('socket close with reason: "%s"',e);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),r.writeBuffer=[],r.prevBufferLen=0}},n.prototype.filterUpgrades=function(e){for(var t=[],r=0,n=e.length;n>r;r++)~c(this.transports,e[r])&&t.push(e[r]);return t}}).call(t,function(){return this}())},function(e,t,r){(function(e){"use strict";function n(t){var r,n=!1,a=!1,u=!1!==t.jsonp;if(e.location){var c="https:"===location.protocol,f=location.port;f||(f=c?443:80),n=t.hostname!==location.hostname||f!==t.port,a=t.secure!==c}if(t.xdomain=n,t.xscheme=a,r=new i(t),"open"in r&&!t.forceJSONP)return new o(t);if(!u)throw new Error("JSONP disabled");return new s(t)}var i=r(4),o=r(6),s=r(26),a=r(27);t.polling=n,t.websocket=a}).call(t,function(){return this}())},function(e,t,r){"use strict";var n=r(5);e.exports=function(e){var t=e.xdomain,r=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(o){}try{if("undefined"!=typeof XDomainRequest&&!r&&i)return new XDomainRequest}catch(o){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(o){}}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(r){e.exports=!1}},function(e,t,r){(function(t){"use strict";function n(){}function i(e){if(u.call(this,e),t.location){var r="https:"===location.protocol,n=location.port;n||(n=r?443:80),this.xd=e.hostname!==t.location.hostname||n!==e.port,this.xs=e.secure!==r}else this.extraHeaders=e.extraHeaders}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function s(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var a=r(4),u=r(7),c=r(19),f=r(21),p=r(23)("engine.io-client:polling-xhr");e.exports=i,e.exports.Request=o,f(i,u),i.prototype.supportsBinary=!0,i.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new o(e)},i.prototype.doWrite=function(e,t){var r="string"!=typeof e&&void 0!==e,n=this.request({method:"POST",data:e,isBinary:r}),i=this;n.on("success",t),n.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=n},i.prototype.doPoll=function(){p("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var r=this.xhr=new a(e),n=this;try{p("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.extraHeaders){r.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.extraHeaders[i])}}catch(s){}if(this.supportsBinary&&(r.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?r.setRequestHeader("Content-type","application/octet-stream"):r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}"withCredentials"in r&&(r.withCredentials=!0),this.hasXDR()?(r.onload=function(){n.onLoad()},r.onerror=function(){n.onError(r.responseText)}):r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?n.onLoad():setTimeout(function(){n.onError(r.status)},0))},p("xhr data %s",this.data),r.send(this.data)}catch(s){return void setTimeout(function(){n.onError(s)},0)}t.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,e)try{this.xhr.abort()}catch(r){}t.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(r){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(r){for(var n=new Uint8Array(this.xhr.response),i=[],o=0,s=n.length;s>o;o++)i.push(n[o]);e=String.fromCharCode.apply(null,i)}else e=this.xhr.responseText}catch(r){this.onError(r)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return"undefined"!=typeof t.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},t.document&&(o.requestsCount=0,o.requests={},t.attachEvent?t.attachEvent("onunload",s):t.addEventListener&&t.addEventListener("beforeunload",s,!1))}).call(t,function(){return this}())},function(e,t,r){"use strict";function n(e){var t=e&&e.forceBase64;(!f||t)&&(this.supportsBinary=!1),i.call(this,e)}var i=r(8),o=r(20),s=r(9),a=r(21),u=r(22),c=r(23)("engine.io-client:polling");e.exports=n;var f=function(){var e=r(4),t=new e({xdomain:!1});return null!=t.responseType}();a(n,i),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(e){function t(){c("paused"),r.readyState="paused",e()}var r=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(c("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){c("pre-pause polling complete"),--n||t()})),this.writable||(c("we are currently writing - waiting to pause"),n++,this.once("drain",function(){c("pre-pause writing complete"),--n||t()}))}else t()},n.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(e){var t=this;c("polling got data %s",e);var r=function(e,r,n){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)};s.decodePayload(e,this.socket.binaryType,r),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function e(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},n.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit("drain")};s.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,r)})},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",r="";!1!==this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==this.port||"http"===t&&80!==this.port)&&(r=":"+this.port),e.length&&(e="?"+e);var n=-1!==this.hostname.indexOf(":");return t+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+e}},function(e,t,r){"use strict";function n(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var i=r(9),o=r(19);e.exports=n,o(n.prototype),n.prototype.onError=function(e,t){var r=new Error(e);return r.type="TransportError",r.description=t,this.emit("error",r),this},n.prototype.open=function(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this},n.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},n.prototype.onPacket=function(e){this.emit("packet",e)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,r){(function(e){function n(e,r){var n="b"+t.packets[e.type]+e.data.data;return r(n)}function i(e,r,n){if(!r)return t.encodeBase64Packet(e,n);var i=e.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=v[e.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return n(s.buffer)}function o(e,r,n){if(!r)return t.encodeBase64Packet(e,n);var i=new FileReader;return i.onload=function(){e.data=i.result,t.encodePacket(e,r,!0,n)},i.readAsArrayBuffer(e.data)}function s(e,r,n){if(!r)return t.encodeBase64Packet(e,n);if(g)return o(e,r,n);var i=new Uint8Array(1);i[0]=v[e.type];var s=new x([i.buffer,e.data]);return n(s)}function a(e){try{e=h.decode(e)}catch(t){return!1}return e}function u(e,t,r){for(var n=new Array(e.length),i=d(e.length,r),o=function(e,r,i){t(r,function(t,r){n[e]=r,i(t,n)})},s=0;s<e.length;s++)o(s,e[s],i)}var c,f=r(10),p=r(11),l=r(13),d=r(14),h=r(15);e.ArrayBuffer&&(c=r(17));var m="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),y="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),g=m||y;t.protocol=3;var v=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=f(v),w={type:"error",data:"parser error"},x=r(18);t.encodePacket=function(t,r,o,a){"function"==typeof r&&(a=r,r=!1),"function"==typeof o&&(a=o,o=null);var u=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&u instanceof ArrayBuffer)return i(t,r,a);if(x&&u instanceof e.Blob)return s(t,r,a);if(u&&u.base64)return n(t,a);var c=v[t.type];return void 0!==t.data&&(c+=o?h.encode(String(t.data)):String(t.data)),a(""+c)},t.encodeBase64Packet=function(r,n){var i="b"+t.packets[r.type];if(x&&r.data instanceof e.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(i+e)},o.readAsDataURL(r.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(r.data))}catch(a){for(var u=new Uint8Array(r.data),c=new Array(u.length),f=0;f<u.length;f++)c[f]=u[f];s=String.fromCharCode.apply(null,c)}return i+=e.btoa(s),n(i)},t.decodePacket=function(e,r,n){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return t.decodeBase64Packet(e.substr(1),r);if(n&&(e=a(e),e===!1))return w;var i=e.charAt(0);return Number(i)==i&&b[i]?e.length>1?{type:b[i],data:e.substring(1)}:{type:b[i]}:w}var o=new Uint8Array(e),i=o[0],s=l(e,1);return x&&"blob"===r&&(s=new x([s])),{type:b[i],data:s}},t.decodeBase64Packet=function(e,t){var r=b[e.charAt(0)];if(!c)return{type:r,data:{base64:!0,data:e.substr(1)}};var n=c.decode(e.substr(1));return"blob"===t&&x&&(n=new x([n])),{type:r,data:n}},t.encodePayload=function(e,r,n){function i(e){return e.length+":"+e}function o(e,n){t.encodePacket(e,s?r:!1,!0,function(e){n(null,i(e))})}"function"==typeof r&&(n=r,r=null);var s=p(e);return r&&s?x&&!g?t.encodePayloadAsBlob(e,n):t.encodePayloadAsArrayBuffer(e,n):e.length?void u(e,o,function(e,t){return n(t.join(""))}):n("0:")},t.decodePayload=function(e,r,n){if("string"!=typeof e)return t.decodePayloadAsBinary(e,r,n);"function"==typeof r&&(n=r,r=null);var i;if(""==e)return n(w,0,1);for(var o,s,a="",u=0,c=e.length;c>u;u++){var f=e.charAt(u);if(":"!=f)a+=f;else{if(""==a||a!=(o=Number(a)))return n(w,0,1);if(s=e.substr(u+1,o),a!=s.length)return n(w,0,1);if(s.length){if(i=t.decodePacket(s,r,!0),w.type==i.type&&w.data==i.data)return n(w,0,1);var p=n(i,u+o,c);if(!1===p)return}u+=o,a=""}}return""!=a?n(w,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,r){function n(e,r){t.encodePacket(e,!0,!0,function(e){return r(null,e)})}return e.length?void u(e,n,function(e,t){var n=t.reduce(function(e,t){var r;return r="string"==typeof t?t.length:t.byteLength,e+r.toString().length+r+2},0),i=new Uint8Array(n),o=0;return t.forEach(function(e){var t="string"==typeof e,r=e;if(t){for(var n=new Uint8Array(e.length),s=0;s<e.length;s++)n[s]=e.charCodeAt(s);r=n.buffer}t?i[o++]=0:i[o++]=1;for(var a=r.byteLength.toString(),s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(var n=new Uint8Array(r),s=0;s<n.length;s++)i[o++]=n[s]}),r(i.buffer)}):r(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,r){function n(e,r){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);e=n.buffer,t[0]=0}for(var o=e instanceof ArrayBuffer?e.byteLength:e.size,s=o.toString(),a=new Uint8Array(s.length+1),i=0;i<s.length;i++)a[i]=parseInt(s[i]);if(a[s.length]=255,x){var u=new x([t.buffer,a.buffer,e]);r(null,u)}})}u(e,n,function(e,t){return r(new x(t))})},t.decodePayloadAsBinary=function(e,r,n){"function"==typeof r&&(n=r,r=null);for(var i=e,o=[],s=!1;i.byteLength>0;){for(var a=new Uint8Array(i),u=0===a[0],c="",f=1;255!=a[f];f++){if(c.length>310){s=!0;break}c+=a[f]}if(s)return n(w,0,1);i=l(i,2+c.length),c=parseInt(c);var p=l(i,0,c);if(u)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(d){var h=new Uint8Array(p);p="";for(var f=0;f<h.length;f++)p+=String.fromCharCode(h[f])}o.push(p),i=l(i,c)}var m=o.length;o.forEach(function(e,i){n(t.decodePacket(e,r,!0),i,m)})}}).call(t,function(){return this}())},function(e,t){e.exports=Object.keys||function(e){var t=[],r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&t.push(n);return t}},function(e,t,r){(function(t){function n(e){function r(e){if(!e)return!1;if(t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer||t.Blob&&e instanceof Blob||t.File&&e instanceof File)return!0;if(i(e)){for(var n=0;n<e.length;n++)if(r(e[n]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&r(e[o]))return!0}return!1}return r(e)}var i=r(12);e.exports=n}).call(t,function(){return this}())},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){e.exports=function(e,t,r){var n=e.byteLength;if(t=t||0,r=r||n,e.slice)return e.slice(t,r);if(0>t&&(t+=n),0>r&&(r+=n),r>n&&(r=n),t>=n||t>=r||0===n)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(r-t),s=t,a=0;r>s;s++,a++)o[a]=i[s];return o.buffer}},function(e,t){function r(e,t,r){function i(e,n){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(o=!0,t(e),t=r):0!==i.count||o||t(null,n)}var o=!1;return r=r||n,i.count=e,0===e?t():i}function n(){}e.exports=r},function(e,t,r){var n;(function(e,i){!function(o){function s(e){for(var t,r,n=[],i=0,o=e.length;o>i;)t=e.charCodeAt(i++),t>=55296&&56319>=t&&o>i?(r=e.charCodeAt(i++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--)):n.push(t);return n}function a(e){for(var t,r=e.length,n=-1,i="";++n<r;)t=e[n],t>65535&&(t-=65536,i+=b(t>>>10&1023|55296),t=56320|1023&t),i+=b(t);return i}function u(e,t){return b(e>>t&63|128)}function c(e){if(0==(4294967168&e))return b(e);var t="";return 0==(4294965248&e)?t=b(e>>6&31|192):0==(4294901760&e)?(t=b(e>>12&15|224),t+=u(e,6)):0==(4292870144&e)&&(t=b(e>>18&7|240),t+=u(e,12),t+=u(e,6)),t+=b(63&e|128)}function f(e){for(var t,r=s(e),n=r.length,i=-1,o="";++i<n;)t=r[i],o+=c(t);return o}function p(){if(v>=g)throw Error("Invalid byte index");var e=255&y[v];if(v++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function l(){var e,t,r,n,i;if(v>g)throw Error("Invalid byte index");if(v==g)return!1;if(e=255&y[v],v++,0==(128&e))return e;if(192==(224&e)){var t=p();if(i=(31&e)<<6|t,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=p(),r=p(),i=(15&e)<<12|t<<6|r,i>=2048)return i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=p(),r=p(),n=p(),i=(15&e)<<18|t<<12|r<<6|n,i>=65536&&1114111>=i))return i;throw Error("Invalid WTF-8 detected")}function d(e){y=s(e),g=y.length,v=0;for(var t,r=[];(t=l())!==!1;)r.push(t);return a(r)}var h="object"==typeof t&&t,m=("object"==typeof e&&e&&e.exports==h&&e,"object"==typeof i&&i);(m.global===m||m.window===m)&&(o=m);var y,g,v,b=String.fromCharCode,w={version:"1.0.0",encode:f,decode:d};n=function(){return w}.call(t,r,t,e),!(void 0!==n&&(e.exports=n))}(this)}).call(t,r(16)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),n=0;n<e.length;n++)r[e.charCodeAt(n)]=n;t.encode=function(t){var r,n=new Uint8Array(t),i=n.length,o="";for(r=0;i>r;r+=3)o+=e[n[r]>>2],o+=e[(3&n[r])<<4|n[r+1]>>4],o+=e[(15&n[r+1])<<2|n[r+2]>>6],o+=e[63&n[r+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,n,i,o,s,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var f=new ArrayBuffer(a),p=new Uint8Array(f);for(t=0;u>t;t+=4)n=r[e.charCodeAt(t)],i=r[e.charCodeAt(t+1)],o=r[e.charCodeAt(t+2)],s=r[e.charCodeAt(t+3)],p[c++]=n<<2|i>>4,p[c++]=(15&i)<<4|o>>2,p[c++]=(3&o)<<6|63&s;return f}}()},function(e,t){(function(t){function r(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.buffer instanceof ArrayBuffer){var n=r.buffer;if(r.byteLength!==n.byteLength){var i=new Uint8Array(r.byteLength);i.set(new Uint8Array(n,r.byteOffset,r.byteLength)),n=i.buffer}e[t]=n}}}function n(e,t){t=t||{};var n=new o;r(e);for(var i=0;i<e.length;i++)n.append(e[i]);return t.type?n.getBlob(t.type):n.getBlob()}function i(e,t){return r(e),new Blob(e,t||{})}var o=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,s=function(){
try{var e=new Blob(["hi"]);return 2===e.size}catch(t){return!1}}(),a=s&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(t){return!1}}(),u=o&&o.prototype.append&&o.prototype.getBlob;e.exports=function(){return s?a?t.Blob:i:u?n:void 0}()}).call(t,function(){return this}())},function(e,t){function r(e){return e?n(e):void 0}function n(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},r.prototype.once=function(e,t){function r(){n.off(e,r),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks[e];if(r){r=r.slice(0);for(var n=0,i=r.length;i>n;++n)r[n].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){t.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},t.decode=function(e){for(var t={},r=e.split("&"),n=0,i=r.length;i>n;n++){var o=r[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){"use strict";function r(e){var t="";do t=s[e%a]+t,e=Math.floor(e/a);while(e>0);return t}function n(e){var t=0;for(f=0;f<e.length;f++)t=t*a+u[e.charAt(f)];return t}function i(){var e=r(+new Date);return e!==o?(c=0,o=e):e+"."+r(c++)}for(var o,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,u={},c=0,f=0;a>f;f++)u[s[f]]=f;i.encode=r,i.decode=n,e.exports=i},function(e,t,r){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,n),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(r){}}function a(){var e;try{e=t.storage.debug}catch(r){}return e}function u(){try{return window.localStorage}catch(e){}}t=e.exports=r(24),t.log=o,t.formatArgs=i,t.save=s,t.load=a,t.useColors=n,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(a())},function(e,t,r){function n(){return t.colors[f++%t.colors.length]}function i(e){function r(){}function i(){var e=i,r=+new Date,o=r-(c||r);e.diff=o,e.prev=c,e.curr=r,c=r,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=n());var s=Array.prototype.slice.call(arguments);s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(r,n){if("%%"===r)return r;a++;var i=t.formatters[n];if("function"==typeof i){var o=s[a];r=i.call(e,o),s.splice(a,1),a--}return r}),"function"==typeof t.formatArgs&&(s=t.formatArgs.apply(e,s));var u=i.log||t.log||console.log.bind(console);u.apply(e,s)}r.enabled=!1,i.enabled=!0;var o=t.enabled(e)?i:r;return o.namespace=e,o}function o(e){t.save(e);for(var r=(e||"").split(/[\s,]+/),n=r.length,i=0;n>i;i++)r[i]&&(e=r[i].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function s(){t.enable("")}function a(e){var r,n;for(r=0,n=t.skips.length;n>r;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;n>r;r++)if(t.names[r].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=i,t.coerce=u,t.disable=s,t.enable=o,t.enabled=a,t.humanize=r(25),t.names=[],t.skips=[],t.formatters={};var c,f=0},function(e,t){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*f;case"days":case"day":case"d":return r*c;case"hours":case"hour":case"hrs":case"hr":case"h":return r*u;case"minutes":case"minute":case"mins":case"min":case"m":return r*a;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function n(e){return e>=c?Math.round(e/c)+"d":e>=u?Math.round(e/u)+"h":e>=a?Math.round(e/a)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function i(e){return o(e,c,"day")||o(e,u,"hour")||o(e,a,"minute")||o(e,s,"second")||e+" ms"}function o(e,t,r){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var s=1e3,a=60*s,u=60*a,c=24*u,f=365.25*c;e.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?i(e):n(e)}},function(e,t,r){(function(t){"use strict";function n(){}function i(e){o.call(this,e),this.query=this.query||{},a||(t.___eio||(t.___eio=[]),a=t.___eio),this.index=a.length;var r=this;a.push(function(e){r.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){r.script&&(r.script.onerror=n)},!1)}var o=r(7),s=r(21);e.exports=i;var a,u=/\n/g,c=/\\n/g;s(i,o),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},i.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},i.prototype.doWrite=function(e,t){function r(){n(),t()}function n(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(e){i.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+i.iframeId+'">';o=document.createElement(t)}catch(e){o=document.createElement("iframe"),o.name=i.iframeId,o.src="javascript:0"}o.id=i.iframeId,i.form.appendChild(o),i.iframe=o}var i=this;if(!this.form){var o,s=document.createElement("form"),a=document.createElement("textarea"),f=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=f,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),n(),e=e.replace(c,"\\\n"),this.area.value=e.replace(u,"\\n");try{this.form.submit()}catch(p){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===i.iframe.readyState&&r()}:this.iframe.onload=r}}).call(t,function(){return this}())},function(e,t,r){(function(t){"use strict";function n(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,i.call(this,e)}var i=r(8),o=r(9),s=r(20),a=r(21),u=r(22),c=r(23)("engine.io-client:websocket"),f=t.WebSocket||t.MozWebSocket,p=f;if(!p&&"undefined"==typeof window)try{p=r(28)}catch(l){}e.exports=n,a(n,i),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders);try{this.ws=f?new p(e):new p(e,t,r)}catch(n){return this.emit("error",n)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(n.prototype.onData=function(e){var t=this;setTimeout(function(){i.prototype.onData.call(t,e)},0)}),n.prototype.write=function(e){function r(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var i=e.length,s=0,a=i;a>s;s++)!function(e){o.encodePacket(e,n.supportsBinary,function(o){if(!f){var s={};if(e.options&&(s.compress=e.options.compress),n.perMessageDeflate){var a="string"==typeof o?t.Buffer.byteLength(o):o.length;a<n.perMessageDeflate.threshold&&(s.compress=!1)}}try{f?n.ws.send(o):n.ws.send(o,s)}catch(u){c("websocket closed before onclose event")}--i||r()})}(e[s])},n.prototype.onClose=function(){i.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",r="";this.port&&("wss"===t&&443!==this.port||"ws"===t&&80!==this.port)&&(r=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),e=s.encode(e),e.length&&(e="?"+e);var n=-1!==this.hostname.indexOf(":");return t+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+e},n.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===n.prototype.name)}}).call(t,function(){return this}())},function(e,t){},function(e,t){var r=[].indexOf;e.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var s=r.exec(e||""),a={},u=14;u--;)a[n[u]]=s[u]||"";return-1!=i&&-1!=o&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(e,t){(function(t){var r=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(s,"").replace(a,""),t.JSON&&JSON.parse?JSON.parse(e):r.test(e.replace(n,"@").replace(i,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(t,function(){return this}())}])});
//# sourceMappingURL=gina.min.js.map